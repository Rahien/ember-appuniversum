{{#modal-dialog
  tetherTarget="[data-version-selector]"
  attachment="top right"
  clickOutsideToClose=true
  onClose=(action on-close)
  targetAttachment="bottom right"}}
  <ul class="au-d-dropdown-list">
    {{#each sortedVersions as |version|}}
      <li data-test-id="version" class="au-d-dropdown-list__item">
        <a {{action "changeVersion" version}} href="#"
          class={{concat
            "au-d-dropdown-list__link"
            (if (eq version sortedVersions.firstObject) "docs-rounded-t")
            (if (eq version sortedVersions.lastObject) "docs-rounded-b")
          }}>
          <span class="docs-font-medium">
            {{version.name}}:&nbsp;
          </span>

          <span class="docs-ml-auto docs-pl-8 docs-flex docs-items-center docs-opacity-50 group-hover:docs-opacity-100">
            <span class="docs-text-xxs docs-font-mono docs-pl-1">
              {{#if (or (eq version.key latestVersionName) (eq version.key primaryBranch))}}
                {{#if version.tag}}
                  {{version.tag}}
                {{else}}
                  {{version.truncatedSha}}
                {{/if}}
              {{else}}
                {{version.truncatedSha}}
              {{/if}}
            </span>
          </span>
        </a>
      </li>
    {{/each}}
  </ul>
{{/modal-dialog}}
